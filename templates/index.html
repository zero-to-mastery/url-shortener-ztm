{% extends "base.html" %}

{% block content %}

  <div class="container">
    <header class="hero">
      <h2>Shorten Your URLs</h2>
      <p>Create short, shareable links in seconds with our powerful URL shortener</p>
    </header>

    <main class="url-shortener" role="main">
      <form id="urlForm" class="url-form" aria-label="URL Shortener Form">
        <div class="input-group">
          <label for="urlInput" class="visually-hidden">Enter URL to shorten</label>
          <input 
            type="url" 
            id="urlInput" 
            name="url"
            placeholder="Enter your long URL here..." 
            required 
            autocomplete="url"
            aria-describedby="url-help"
          >
          <button type="submit" id="submitBtn" class="btn btn-primary" aria-describedby="submit-help">
            <span class="btn-text">Shorten URL</span>
            <span class="btn-loading" style="display: none;" aria-hidden="true">
              <span class="spinner"></span>
              Shortening...
            </span>
          </button>
        </div>
        <div id="url-help" class="visually-hidden">Enter a valid URL starting with http:// or https://</div>
        <div id="submit-help" class="visually-hidden">Click to generate a short URL</div>
      </form>

      <div id="result" class="result" style="display: none;" role="status" aria-live="polite">
        <div class="result-content">
          <div class="result-header">
            <h3>üéâ Your Short URL is Ready!</h3>
            <button id="closeResult" class="close-btn">√ó</button>
          </div>
          <div class="result-body">
            <div class="short-url-container">
              <label for="shortUrl" class="visually-hidden">Short URL</label>
              <input type="text" id="shortUrl" readonly class="short-url-input" aria-label="Generated short URL">
              <button id="copyBtn" class="btn btn-secondary copy-btn" aria-label="Copy short URL to clipboard">
                <span class="copy-text">Copy</span>
                <span class="copy-success" style="display: none;" aria-hidden="true">‚úì Copied!</span>
              </button>
            </div>
            <div class="original-url">
              <strong>Original URL:</strong> <span id="originalUrl"></span>
            </div>
          </div>
        </div>
      </div>

      <div id="error" class="error" style="display: none;" role="alert" aria-live="assertive">
        <div class="error-content">
          <div class="error-header">
            <h3>‚ö†Ô∏è Error</h3>
            <button id="closeError" class="close-btn">√ó</button>
          </div>
          <p id="errorMessage"></p>
          <button id="retryBtn" class="btn btn-secondary">Try Again</button>
        </div>
      </div>
    </main>

    <section class="admin-section">
      <div class="admin-info">
        <h3>Admin Access</h3>
        <p>Manage your shortened URLs and access advanced features</p>
        <div class="admin-links">
          <a href="/admin/login" class="btn btn-secondary">Login</a>
          <a href="/admin/register" class="btn btn-outline">Register</a>
          <a href="/admin" class="btn btn-primary">Admin Dashboard</a>
        </div>
      </div>
    </section>
  </div>

{% endblock content %}